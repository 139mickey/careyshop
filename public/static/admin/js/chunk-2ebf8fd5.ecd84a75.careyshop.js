(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ebf8fd5"],{1972:function(t,e,u){"use strict";u.r(e);var r=function(){var t=this,e=t.$createElement,u=t._self._c||e;return u("cs-container",[u("page-header",{ref:"header",attrs:{slot:"header",loading:t.loading,module:t.module,group:t.group},on:{submit:t.handleSubmit},slot:"header"}),u("page-main",{ref:"rule",attrs:{loading:t.loading,"tree-data":t.tree,module:t.module,group:t.group},on:{refresh:t.handleRefresh}})],1)},a=[],n=(u("4160"),u("d3b7"),u("3ca3"),u("159b"),u("ddb0"),u("5530")),o=u("a308"),d=u("c784"),i=u("ca7e"),c={name:"setting-auth-rule",components:{PageHeader:function(){return u.e("chunk-2d0cbaf4").then(u.bind(null,"4b5e"))},PageMain:function(){return u.e("chunk-26588a72").then(u.bind(null,"8063"))}},data:function(){return{loading:!1,tree:[],module:{},group:{}}},mounted:function(){var t=this;Promise.all([Object(o["e"])(),Object(d["c"])({status:1})]).then((function(e){t.module=e[0]||{},e[1].data&&e[1].data.forEach((function(e){t.group[e.group_id]=e}))})).then((function(){t.handleSubmit()}))},methods:{handleRefresh:function(){var t=this;this.$nextTick((function(){t.$refs.header.handleFormSubmit()}))},handleSubmit:function(t){var e=this;this.loading=!0,Object(i["c"])(Object(n["a"])({},t)).then((function(u){e.tree=[];var r=[];for(var a in e.module)Object.prototype.hasOwnProperty.call(e.module,a)&&(t&&t.module&&t.module!==a||(r[a]=e.tree.push({rule_id:a,name:e.module[a],children:[],system:!0,module:a,status:1})));u.data&&u.data.forEach((function(t){e.tree[r[t.module]-1].children.push(t)})),e.$refs.rule&&(e.$refs.rule.filterText="",e.$refs.rule.resetForm(),e.$refs.rule.resetElements())})).finally((function(){e.loading=!1}))}}},l=c,s=u("2877"),h=Object(s["a"])(l,r,a,!1,null,null,null);e["default"]=h.exports},c784:function(t,e,u){"use strict";u.d(e,"a",(function(){return a})),u.d(e,"d",(function(){return n})),u.d(e,"b",(function(){return o})),u.d(e,"c",(function(){return d})),u.d(e,"f",(function(){return i})),u.d(e,"e",(function(){return c}));var r=u("bc07");function a(t){return Object(r["a"])({url:"/v1/auth_group",method:"post",params:{method:"add.auth.group.item"},data:t})}function n(t){return Object(r["a"])({url:"/v1/auth_group",method:"post",params:{method:"set.auth.group.item"},data:t})}function o(t){return Object(r["a"])({url:"/v1/auth_group",method:"post",params:{method:"del.auth.group.item"},data:{group_id:t}})}function d(t){return Object(r["a"])({url:"/v1/auth_group",method:"post",params:{method:"get.auth.group.list"},data:t})}function i(t,e){return Object(r["a"])({url:"/v1/auth_group",method:"post",params:{method:"set.auth.group.status"},data:{group_id:t,status:e}})}function c(t,e){return Object(r["a"])({url:"/v1/auth_group",method:"post",params:{method:"set.auth.group.sort"},data:{group_id:t,sort:e}})}},ca7e:function(t,e,u){"use strict";u.d(e,"a",(function(){return a})),u.d(e,"e",(function(){return n})),u.d(e,"b",(function(){return o})),u.d(e,"c",(function(){return d})),u.d(e,"f",(function(){return i})),u.d(e,"d",(function(){return c}));var r=u("bc07");function a(t){return Object(r["a"])({url:"/v1/auth_rule",method:"post",params:{method:"add.auth.rule.item"},data:t})}function n(t){return Object(r["a"])({url:"/v1/auth_rule",method:"post",params:{method:"set.auth.rule.item"},data:t})}function o(t){return Object(r["a"])({url:"/v1/auth_rule",method:"post",params:{method:"del.auth.rule.list"},data:{rule_id:t}})}function d(t){return Object(r["a"])({url:"/v1/auth_rule",method:"post",params:{method:"get.auth.rule.list"},data:t})}function i(t,e){return Object(r["a"])({url:"/v1/auth_rule",method:"post",params:{method:"set.auth.rule.status"},data:{rule_id:t,status:e}})}function c(t){return Object(r["a"])({url:"/v1/auth_rule",method:"post",params:{method:"set.auth.rule.index"},data:{rule_id:t}})}}}]);